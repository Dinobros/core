<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@dinobros/core Demo</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px; 
            line-height: 1.6; 
        }
        .example { 
            background: #f5f5f5; 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 5px; 
            border-left: 4px solid #007acc; 
        }
        .result { 
            color: #007acc; 
            font-weight: bold; 
        }
        pre { 
            background: #282c34; 
            color: #abb2bf; 
            padding: 15px; 
            border-radius: 5px; 
            overflow-x: auto; 
        }
    </style>
</head>
<body>
    <h1>@dinobros/core Library Demo</h1>
    <p>This page demonstrates the functionality of the @dinobros/core utility library.</p>
    
    <h2>Math Utilities</h2>
    <div class="example">
        <h3>Array Operations</h3>
        <div id="math-demo"></div>
    </div>

    <h2>String Utilities</h2>
    <div class="example">
        <h3>Text Transformations</h3>
        <div id="string-demo"></div>
    </div>

    <h2>Array Utilities</h2>
    <div class="example">
        <h3>Array Manipulations</h3>
        <div id="array-demo"></div>
    </div>

    <h2>Object Utilities</h2>
    <div class="example">
        <h3>Object Operations</h3>
        <div id="object-demo"></div>
    </div>

    <script type="module">
        // This would work if the library was properly published
        // For demo purposes, we'll create mock functions
        
        const mockCore = {
            math: {
                sum: (arr) => arr.reduce((a, b) => a + b, 0),
                average: (arr) => arr.reduce((a, b) => a + b, 0) / arr.length,
                max: (arr) => Math.max(...arr),
                min: (arr) => Math.min(...arr),
                clamp: (val, min, max) => Math.min(Math.max(val, min), max)
            },
            string: {
                capitalize: (str) => str.charAt(0).toUpperCase() + str.slice(1).toLowerCase(),
                toCamelCase: (str) => str.replace(/(?:^\w|[A-Z]|\b\w)/g, (word, index) => 
                    index === 0 ? word.toLowerCase() : word.toUpperCase()
                ).replace(/\s+/g, ''),
                toKebabCase: (str) => str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\s+/g, '-').toLowerCase(),
                truncate: (str, len, suffix = '...') => str.length <= len ? str : str.slice(0, len - suffix.length) + suffix
            },
            array: {
                unique: (arr) => [...new Set(arr)],
                chunk: (arr, size) => {
                    const chunks = [];
                    for (let i = 0; i < arr.length; i += size) {
                        chunks.push(arr.slice(i, i + size));
                    }
                    return chunks;
                },
                shuffle: (arr) => {
                    const shuffled = [...arr];
                    for (let i = shuffled.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                    }
                    return shuffled;
                }
            },
            object: {
                get: (obj, path, defaultValue) => {
                    const keys = path.split('.');
                    let result = obj;
                    for (const key of keys) {
                        if (result == null || typeof result !== 'object') {
                            return defaultValue;
                        }
                        result = result[key];
                    }
                    return result !== undefined ? result : defaultValue;
                },
                deepClone: (obj) => JSON.parse(JSON.stringify(obj))
            }
        };

        // Math demos
        const numbers = [1, 2, 3, 4, 5, 10, 15, 20];
        document.getElementById('math-demo').innerHTML = `
            <p><strong>Numbers:</strong> [${numbers.join(', ')}]</p>
            <p><strong>Sum:</strong> <span class="result">${mockCore.math.sum(numbers)}</span></p>
            <p><strong>Average:</strong> <span class="result">${mockCore.math.average(numbers)}</span></p>
            <p><strong>Max:</strong> <span class="result">${mockCore.math.max(numbers)}</span></p>
            <p><strong>Min:</strong> <span class="result">${mockCore.math.min(numbers)}</span></p>
            <p><strong>Clamp 25 between 0-10:</strong> <span class="result">${mockCore.math.clamp(25, 0, 10)}</span></p>
        `;

        // String demos
        const sampleText = "hello world from dinobros";
        document.getElementById('string-demo').innerHTML = `
            <p><strong>Original:</strong> "${sampleText}"</p>
            <p><strong>Capitalized:</strong> <span class="result">"${mockCore.string.capitalize(sampleText)}"</span></p>
            <p><strong>CamelCase:</strong> <span class="result">"${mockCore.string.toCamelCase(sampleText)}"</span></p>
            <p><strong>KebabCase:</strong> <span class="result">"${mockCore.string.toKebabCase(sampleText)}"</span></p>
            <p><strong>Truncated (15 chars):</strong> <span class="result">"${mockCore.string.truncate(sampleText, 15)}"</span></p>
        `;

        // Array demos
        const sampleArray = [1, 2, 2, 3, 4, 4, 5, 1, 6, 7, 8, 9];
        document.getElementById('array-demo').innerHTML = `
            <p><strong>Original:</strong> [${sampleArray.join(', ')}]</p>
            <p><strong>Unique:</strong> <span class="result">[${mockCore.array.unique(sampleArray).join(', ')}]</span></p>
            <p><strong>Chunked (size 3):</strong> <span class="result">[${mockCore.array.chunk(sampleArray, 3).map(chunk => '[' + chunk.join(', ') + ']').join(', ')}]</span></p>
            <p><strong>Shuffled:</strong> <span class="result">[${mockCore.array.shuffle([...sampleArray]).join(', ')}]</span></p>
        `;

        // Object demos
        const sampleObject = {
            user: {
                profile: {
                    name: "John Doe",
                    age: 30
                },
                settings: {
                    theme: "dark"
                }
            }
        };
        
        document.getElementById('object-demo').innerHTML = `
            <p><strong>Sample Object:</strong></p>
            <pre>${JSON.stringify(sampleObject, null, 2)}</pre>
            <p><strong>Get 'user.profile.name':</strong> <span class="result">"${mockCore.object.get(sampleObject, 'user.profile.name')}"</span></p>
            <p><strong>Get 'user.profile.email' (with default):</strong> <span class="result">"${mockCore.object.get(sampleObject, 'user.profile.email', 'no-email@example.com')}"</span></p>
            <p><strong>Deep Clone Test:</strong> <span class="result">${JSON.stringify(mockCore.object.deepClone(sampleObject.user.profile))}</span></p>
        `;
    </script>
</body>
</html>